<!DOCTYPE html>
<html>


<head lang="en">
    <meta charset="UTF-8">
    <title>管理</title>
</head>


<body>

<table id="user_table" style="width: 100%; background-color: floralwhite">
    <tr>
        <td style="width: 15%; text-align: center; color: #00AA22">姓名</td>
        <td style="width: 15%; text-align: center; color: #00AA22">电话</td>
        <td style="width: 15%; text-align: center; color: #00AA22">性别</td>
        <td style="width: 15%; text-align: center; color: #00AA22">年龄</td>
        <td style="width: 15%; text-align: center; color: #00AA22">操作</td>
    </tr>
</table>

<script type="text/javascript">
    var req = new XMLHttpRequest();
    req.open('get', 'https://media.siiva.com/user/list');
    req.onload = function (resp) {
        var jsonRes = JSON.parse(req.responseText);
        console.log('jsonRes:', jsonRes)

        for (var i in  jsonRes) {

            var op1 = document.getElementsByTagName('table')[0];
            var str = '<td style="width: 15%; text-align: center">' + jsonRes[i].user_name + '</td>';
            str += '<td style="width: 15%; text-align: center">' + jsonRes[i].phone + '</td>';
            str += '<td style="width: 15%; text-align: center">' + replaceGender(jsonRes[i].gender) + '</td>';
            str += '<td style="width: 15%; text-align: center">' + replaceBirthday(jsonRes[i].birthday) + '</td>';
            str += '<td style="width: 15%; text-align: center"> <button>删除</button></td>';
            op1.innerHTML += str
        }
    };
    req.send();

    function replaceGender(gender) {
        return gender == 0 ? '男' : '女'
    }

    function replaceBirthday(birthday) {

        var date = new Date;
        var year = date.getFullYear();
        return year - new Date(birthday).getFullYear()
    }


</script>
</body>


</html>